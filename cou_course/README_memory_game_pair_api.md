# Memory Game Pair API

This document describes the API endpoints for managing memory game pairs in the course system.

## Base URL
`/api/v1/memory-game-pairs`

## Endpoints

### 1. Create Memory Game Pair
- **POST** `/`
- **Description**: Create a new memory game pair
- **Request Body**:
  ```json
  {
    "memory_game_id": 1,
    "term": "Term text",
    "term_description": "Description text",
    "pair_order": 1,
    "active": true,
    "created_by": 1
  }
  ```
- **Response**: Created memory game pair object

### 2. Get Memory Game Pair by ID
- **GET** `/{memory_game_pair_id}`
- **Description**: Retrieve a specific memory game pair by its ID
- **Response**: Memory game pair object

### 3. Get All Memory Game Pairs
- **GET** `/`
- **Description**: Retrieve all memory game pairs with pagination
- **Query Parameters**:
  - `skip`: Number of records to skip (default: 0)
  - `limit`: Maximum number of records to return (default: 100)
- **Response**: List of memory game pair objects

### 4. Get Memory Game Pairs by Game
- **GET** `/game/{memory_game_id}`
- **Description**: Retrieve all memory game pairs for a specific memory game
- **Response**: List of memory game pair objects ordered by pair_order

### 5. Search Memory Game Pairs by Term
- **GET** `/search/{term}`
- **Description**: Search memory game pairs by term (case-insensitive partial match)
- **Response**: List of matching memory game pair objects

### 6. Update Memory Game Pair
- **PUT** `/{memory_game_pair_id}`
- **Description**: Update an existing memory game pair
- **Request Body**:
  ```json
  {
    "term": "Updated term",
    "term_description": "Updated description",
    "pair_order": 2,
    "active": true,
    "updated_by": 1
  }
  ```
- **Response**: Updated memory game pair object

### 7. Delete Memory Game Pair
- **DELETE** `/{memory_game_pair_id}`
- **Description**: Soft delete a memory game pair (sets active to false)
- **Response**: Success message

## Data Model

The memory game pair table has the following structure:

```sql
CREATE TABLE cou_course.memory_game_pair (
  id integer generated by default as identity not null,
  memory_game_id integer not null,
  term text not null,
  term_description text not null,
  pair_order integer null,
  created_at timestamp with time zone not null default now(),
  created_by integer not null,
  updated_at timestamp with time zone not null default now(),
  updated_by integer null,
  active boolean null default true,
  constraint memory_game_pair_pkey primary key (id),
  constraint memory_game_pair_game_id_fkey foreign KEY (memory_game_id) references cou_course.memory_game (id)
);
```

## Usage Examples

### Creating a new pair
```bash
curl -X POST "http://localhost:8000/api/v1/memory-game-pairs/" \
  -H "Content-Type: application/json" \
  -d '{
    "memory_game_id": 1,
    "term": "Python",
    "term_description": "A programming language",
    "pair_order": 1,
    "created_by": 1
  }'
```

### Getting pairs for a specific game
```bash
curl "http://localhost:8000/api/v1/memory-game-pairs/game/1"
```

### Searching by term
```bash
curl "http://localhost:8000/api/v1/memory-game-pairs/search/python"
```

## Notes

- All endpoints use soft delete (setting `active = false` instead of removing records)
- The `pair_order` field is used to maintain the order of pairs within a game
- Foreign key constraint ensures `memory_game_id` references a valid memory game
- Timestamps are automatically managed for creation and updates 